{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\golla\\\\OneDrive\\\\Desktop\\\\bhan\\\\Voice-based-Transport-Enquiry-System\\\\voiceenquirysystem\\\\src\\\\Components\\\\Welcome\\\\Welcome.js\";\n// Welcome.js\nimport React, { Component } from 'react';\nimport { Calendar } from 'primereact/calendar';\nimport { AutoComplete } from 'primereact/autocomplete';\nimport App from '../VoiceResolver/App';\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n    this.filterFromPlace = event => {\n      const results = this.state.Stops.filter(place => place.toLowerCase().startsWith(event.query.toLowerCase()));\n      this.setState({\n        filteredFrom: results\n      });\n    };\n    this.filterToPlace = event => {\n      const results = this.state.Stops.filter(place => place.toLowerCase().startsWith(event.query.toLowerCase()));\n      this.setState({\n        filteredTo: results.filter(r => r.toLowerCase() !== this.state.fromSelect.toLowerCase())\n      });\n    };\n    this.handleRegister = event => {\n      event.preventDefault();\n      fetch('http://localhost:3001/CheckRoute', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          fromSelect: this.state.fromSelect,\n          toSelect: this.state.toSelect\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.error === '') {\n          this.props.setPlaces(this.state.fromSelect, this.state.toSelect);\n          data.response.forEach(routeId => this.props.SetRouteId(routeId, 1));\n          this.props.onRouteChange('search');\n        } else {\n          alert(\"No such route exists\");\n        }\n      }).catch(err => console.log('Fetch error:', err));\n    };\n    let today = new Date();\n    let prevMonth = today.getMonth() === 0 ? 11 : today.getMonth() - 1;\n    let prevYear = prevMonth === 11 ? today.getFullYear() - 1 : today.getFullYear();\n    let nextMonth = today.getMonth() === 11 ? 0 : today.getMonth() + 1;\n    this.state = {\n      minDate: new Date(prevYear, prevMonth),\n      maxDate: new Date(today.getFullYear(), nextMonth),\n      onwarddate: '',\n      fromSelect: '',\n      toSelect: '',\n      Stops: [],\n      filteredFrom: [],\n      filteredTo: []\n    };\n  }\n  componentDidMount() {\n    fetch('http://localhost:3001/BusStops').then(res => res.json()).then(data => this.setState({\n      Stops: JSON.parse(data)\n    })).catch(err => console.log(err));\n  }\n  render() {\n    return React.createElement(\"div\", {\n      className: \"welcome-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleRegister,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Pick a Date:\"), React.createElement(Calendar, {\n      dateFormat: \"dd/mm/yy\",\n      value: this.state.onwarddate,\n      minDate: this.state.minDate,\n      maxDate: this.state.maxDate,\n      onChange: e => this.setState({\n        onwarddate: e.value\n      }),\n      showIcon: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Source Place:\"), React.createElement(AutoComplete, {\n      value: this.state.fromSelect,\n      suggestions: this.state.filteredFrom,\n      completeMethod: this.filterFromPlace,\n      size: 30,\n      onChange: e => this.setState({\n        fromSelect: e.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(App, {\n      id: \"sourcePlaceVoice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Destination:\"), React.createElement(AutoComplete, {\n      value: this.state.toSelect,\n      suggestions: this.state.filteredTo,\n      completeMethod: this.filterToPlace,\n      size: 30,\n      onChange: e => this.setState({\n        toSelect: e.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(App, {\n      id: \"destinationPlaceVoice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Search Buses\")));\n  }\n}\nexport default Welcome;","map":{"version":3,"names":["React","Component","Calendar","AutoComplete","App","Welcome","constructor","props","filterFromPlace","event","results","state","Stops","filter","place","toLowerCase","startsWith","query","setState","filteredFrom","filterToPlace","filteredTo","r","fromSelect","handleRegister","preventDefault","fetch","method","headers","body","JSON","stringify","toSelect","then","res","json","data","error","setPlaces","response","forEach","routeId","SetRouteId","onRouteChange","alert","catch","err","console","log","today","Date","prevMonth","getMonth","prevYear","getFullYear","nextMonth","minDate","maxDate","onwarddate","componentDidMount","parse","render","createElement","className","__source","fileName","_jsxFileName","lineNumber","__self","onSubmit","dateFormat","value","onChange","e","showIcon","suggestions","completeMethod","size","id","type"],"sources":["C:/Users/golla/OneDrive/Desktop/bhan/Voice-based-Transport-Enquiry-System/voiceenquirysystem/src/Components/Welcome/Welcome.js"],"sourcesContent":["// Welcome.js\r\nimport React, { Component } from 'react';\r\nimport { Calendar } from 'primereact/calendar';\r\nimport { AutoComplete } from 'primereact/autocomplete';\r\nimport App from '../VoiceResolver/App';\r\n\r\nclass Welcome extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let today = new Date();\r\n    let prevMonth = today.getMonth() === 0 ? 11 : today.getMonth() - 1;\r\n    let prevYear = prevMonth === 11 ? today.getFullYear() - 1 : today.getFullYear();\r\n    let nextMonth = today.getMonth() === 11 ? 0 : today.getMonth() + 1;\r\n\r\n    this.state = {\r\n      minDate: new Date(prevYear, prevMonth),\r\n      maxDate: new Date(today.getFullYear(), nextMonth),\r\n      onwarddate: '',\r\n      fromSelect: '',\r\n      toSelect: '',\r\n      Stops: [],\r\n      filteredFrom: [],\r\n      filteredTo: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch('http://localhost:3001/BusStops')\r\n      .then(res => res.json())\r\n      .then(data => this.setState({ Stops: JSON.parse(data) }))\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  filterFromPlace = (event) => {\r\n    const results = this.state.Stops.filter(place => place.toLowerCase().startsWith(event.query.toLowerCase()));\r\n    this.setState({ filteredFrom: results });\r\n  }\r\n\r\n  filterToPlace = (event) => {\r\n    const results = this.state.Stops.filter(place => place.toLowerCase().startsWith(event.query.toLowerCase()));\r\n    this.setState({ filteredTo: results.filter(r => r.toLowerCase() !== this.state.fromSelect.toLowerCase()) });\r\n  }\r\n\r\n  handleRegister = (event) => {\r\n    event.preventDefault();\r\n    fetch('http://localhost:3001/CheckRoute', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ fromSelect: this.state.fromSelect, toSelect: this.state.toSelect })\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.error === '') {\r\n          this.props.setPlaces(this.state.fromSelect, this.state.toSelect);\r\n          data.response.forEach(routeId => this.props.SetRouteId(routeId, 1));\r\n          this.props.onRouteChange('search');\r\n        } else {\r\n          alert(\"No such route exists\");\r\n        }\r\n      })\r\n      .catch(err => console.log('Fetch error:', err));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='welcome-form'>\r\n        <form onSubmit={this.handleRegister}>\r\n          <label>Pick a Date:</label>\r\n          <Calendar dateFormat=\"dd/mm/yy\" value={this.state.onwarddate} minDate={this.state.minDate} maxDate={this.state.maxDate} onChange={(e) => this.setState({ onwarddate: e.value })} showIcon />\r\n          \r\n          <label>Source Place:</label>\r\n          <AutoComplete value={this.state.fromSelect} suggestions={this.state.filteredFrom} completeMethod={this.filterFromPlace} size={30} onChange={(e) => this.setState({ fromSelect: e.value })} />\r\n          <App id=\"sourcePlaceVoice\" />\r\n\r\n          <label>Destination:</label>\r\n          <AutoComplete value={this.state.toSelect} suggestions={this.state.filteredTo} completeMethod={this.filterToPlace} size={30} onChange={(e) => this.setState({ toSelect: e.value })} />\r\n          <App id=\"destinationPlaceVoice\" />\r\n\r\n          <button type='submit'>Search Buses</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Welcome;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
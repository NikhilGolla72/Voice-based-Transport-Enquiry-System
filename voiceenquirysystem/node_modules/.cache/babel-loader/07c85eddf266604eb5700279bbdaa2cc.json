{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\golla\\\\OneDrive\\\\Desktop\\\\bhan\\\\Voice-based-Transport-Enquiry-System\\\\voiceenquirysystem\\\\src\\\\Components\\\\Welcome\\\\Welcome.js\";\nimport React, { Component } from 'react';\nimport { Calendar } from 'primereact/calendar';\nimport { AutoComplete } from 'primereact/autocomplete';\nimport App from '../VoiceResolver/App';\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n    this.filterFromPlace = event => {\n      this.setState({\n        filteredFrom: this.state.Stops.filter(place => place.toLowerCase().startsWith(event.query.toLowerCase()))\n      });\n    };\n    this.filterToPlace = event => {\n      const results = this.state.Stops.filter(place => place.toLowerCase().startsWith(event.query.toLowerCase())).filter(r => r.toLowerCase() !== this.state.fromSelect.toLowerCase());\n      this.setState({\n        filteredTo: results\n      });\n    };\n    this.handleRegister = event => {\n      event.preventDefault();\n      fetch('http://localhost:3001/CheckRoute', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          fromSelect: this.state.fromSelect,\n          toSelect: this.state.toSelect\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.error === '') {\n          this.props.setPlaces(this.state.fromSelect, this.state.toSelect);\n          data.response.forEach(routeId => this.props.SetRouteId(routeId, 1));\n          this.props.onRouteChange('search');\n        } else {\n          alert(\"No such route exists\");\n        }\n      }).catch(err => console.log('Fetch error:', err));\n    };\n    this.state = {\n      minDate: new Date(new Date().setMonth(new Date().getMonth() - 1)),\n      maxDate: new Date(new Date().setMonth(new Date().getMonth() + 1)),\n      onwarddate: '',\n      fromSelect: '',\n      toSelect: '',\n      Stops: [],\n      filteredFrom: [],\n      filteredTo: []\n    };\n  }\n  componentDidMount() {\n    fetch('http://localhost:3001/BusStops').then(res => res.json()).then(data => this.setState({\n      Stops: JSON.parse(data)\n    })).catch(err => console.log(err));\n  }\n  render() {\n    return React.createElement(\"div\", {\n      className: \"welcome-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleRegister,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Pick a Date:\"), React.createElement(Calendar, {\n      dateFormat: \"dd/mm/yy\",\n      value: this.state.onwarddate,\n      minDate: this.state.minDate,\n      maxDate: this.state.maxDate,\n      onChange: e => this.setState({\n        onwarddate: e.value\n      }),\n      showIcon: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Source Place:\"), React.createElement(AutoComplete, {\n      value: this.state.fromSelect,\n      suggestions: this.state.filteredFrom,\n      completeMethod: this.filterFromPlace,\n      size: 30,\n      onChange: e => this.setState({\n        fromSelect: e.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(App, {\n      id: \"sourcePlaceVoice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Destination:\"), React.createElement(AutoComplete, {\n      value: this.state.toSelect,\n      suggestions: this.state.filteredTo,\n      completeMethod: this.filterToPlace,\n      size: 30,\n      onChange: e => this.setState({\n        toSelect: e.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(App, {\n      id: \"destinationPlaceVoice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Search Buses\")));\n  }\n}\nexport default Welcome;","map":{"version":3,"names":["React","Component","Calendar","AutoComplete","App","Welcome","constructor","props","filterFromPlace","event","setState","filteredFrom","state","Stops","filter","place","toLowerCase","startsWith","query","filterToPlace","results","r","fromSelect","filteredTo","handleRegister","preventDefault","fetch","method","headers","body","JSON","stringify","toSelect","then","res","json","data","error","setPlaces","response","forEach","routeId","SetRouteId","onRouteChange","alert","catch","err","console","log","minDate","Date","setMonth","getMonth","maxDate","onwarddate","componentDidMount","parse","render","createElement","className","__source","fileName","_jsxFileName","lineNumber","__self","onSubmit","dateFormat","value","onChange","e","showIcon","suggestions","completeMethod","size","id","type"],"sources":["C:/Users/golla/OneDrive/Desktop/bhan/Voice-based-Transport-Enquiry-System/voiceenquirysystem/src/Components/Welcome/Welcome.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Calendar } from 'primereact/calendar';\r\nimport { AutoComplete } from 'primereact/autocomplete';\r\nimport App from '../VoiceResolver/App';\r\n\r\nclass Welcome extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      minDate: new Date(new Date().setMonth(new Date().getMonth() - 1)),\r\n      maxDate: new Date(new Date().setMonth(new Date().getMonth() + 1)),\r\n      onwarddate: '',\r\n      fromSelect: '',\r\n      toSelect: '',\r\n      Stops: [],\r\n      filteredFrom: [],\r\n      filteredTo: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch('http://localhost:3001/BusStops')\r\n      .then(res => res.json())\r\n      .then(data => this.setState({ Stops: JSON.parse(data) }))\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  filterFromPlace = (event) => {\r\n    this.setState({\r\n      filteredFrom: this.state.Stops.filter(place =>\r\n        place.toLowerCase().startsWith(event.query.toLowerCase())\r\n      )\r\n    });\r\n  };\r\n\r\n  filterToPlace = (event) => {\r\n    const results = this.state.Stops.filter(place =>\r\n      place.toLowerCase().startsWith(event.query.toLowerCase())\r\n    ).filter(r => r.toLowerCase() !== this.state.fromSelect.toLowerCase());\r\n\r\n    this.setState({ filteredTo: results });\r\n  };\r\n\r\n  handleRegister = (event) => {\r\n    event.preventDefault();\r\n    fetch('http://localhost:3001/CheckRoute', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        fromSelect: this.state.fromSelect,\r\n        toSelect: this.state.toSelect\r\n      })\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.error === '') {\r\n          this.props.setPlaces(this.state.fromSelect, this.state.toSelect);\r\n          data.response.forEach(routeId => this.props.SetRouteId(routeId, 1));\r\n          this.props.onRouteChange('search');\r\n        } else {\r\n          alert(\"No such route exists\");\r\n        }\r\n      })\r\n      .catch(err => console.log('Fetch error:', err));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='welcome-form'>\r\n        <form onSubmit={this.handleRegister}>\r\n          <label>Pick a Date:</label>\r\n          <Calendar dateFormat=\"dd/mm/yy\" value={this.state.onwarddate} minDate={this.state.minDate} maxDate={this.state.maxDate} onChange={(e) => this.setState({ onwarddate: e.value })} showIcon />\r\n          \r\n          <label>Source Place:</label>\r\n          <AutoComplete value={this.state.fromSelect} suggestions={this.state.filteredFrom} completeMethod={this.filterFromPlace} size={30} onChange={(e) => this.setState({ fromSelect: e.value })} />\r\n          <App id=\"sourcePlaceVoice\" />\r\n\r\n          <label>Destination:</label>\r\n          <AutoComplete value={this.state.toSelect} suggestions={this.state.filteredTo} completeMethod={this.filterToPlace} size={30} onChange={(e) => this.setState({ toSelect: e.value })} />\r\n          <App id=\"destinationPlaceVoice\" />\r\n\r\n          <button type='submit'>Search Buses</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Welcome;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
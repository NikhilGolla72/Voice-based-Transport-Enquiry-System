{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\golla\\\\OneDrive\\\\Desktop\\\\bhan\\\\Voice-based-Transport-Enquiry-System\\\\voiceenquirysystem\\\\src\\\\Components\\\\Welcome\\\\Welcome.js\";\nimport React, { Component } from 'react';\nimport './Welcome.css';\nimport { Calendar } from 'primereact/calendar';\nimport { AutoComplete } from 'primereact/autocomplete';\nimport VoiceResolver from '../VoiceResolver/App';\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n    this.filterFromPlace = event => {\n      const results = this.state.Stops.filter(place => place.toLowerCase().startsWith(event.query.toLowerCase()));\n      this.setState({\n        filteredFrom: results\n      });\n    };\n    this.filterToPlace = event => {\n      const results = this.state.Stops.filter(place => place.toLowerCase().startsWith(event.query.toLowerCase())).filter(r => r.toLowerCase() !== this.state.fromSelect.toLowerCase());\n      this.setState({\n        filteredTo: results\n      });\n    };\n    this.handleRegister = event => {\n      event.preventDefault();\n      fetch('http://localhost:3001/CheckRoute', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          fromSelect: this.state.fromSelect,\n          toSelect: this.state.toSelect\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.error === '') {\n          this.props.setPlaces(this.state.fromSelect, this.state.toSelect);\n          data.response.forEach(routeId => this.props.SetRouteId(routeId, 1));\n          this.props.onRouteChange('search');\n        } else {\n          alert(\"No such route exists\");\n        }\n      }).catch(err => console.log('Fetch error:', err));\n    };\n    this.state = {\n      onwarddate: '',\n      fromSelect: '',\n      toSelect: '',\n      Stops: [],\n      filteredFrom: [],\n      filteredTo: []\n    };\n  }\n  componentDidMount() {\n    fetch('http://localhost:3001/BusStops').then(res => res.json()).then(data => {\n      this.setState({\n        Stops: JSON.parse(data)\n      });\n    }).catch(err => console.log(err));\n  }\n  render() {\n    return React.createElement(\"div\", {\n      className: \"formwarp pa2 shadow-2 center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(VoiceResolver, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wraap pa2 center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"onwarddate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Pick a Date: \"), React.createElement(Calendar, {\n      dateFormat: \"dd/mm/yy\",\n      value: this.state.onwarddate,\n      onChange: e => this.setState({\n        onwarddate: e.value\n      }),\n      showIcon: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"from\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Source Place:\"), React.createElement(AutoComplete, {\n      value: this.state.fromSelect,\n      suggestions: this.state.filteredFrom,\n      completeMethod: this.filterFromPlace,\n      placeholder: \"From Place\",\n      onChange: e => this.setState({\n        fromSelect: e.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"to\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Destination\"), React.createElement(AutoComplete, {\n      value: this.state.toSelect,\n      suggestions: this.state.filteredTo,\n      completeMethod: this.filterToPlace,\n      placeholder: \"To Place\",\n      onChange: e => this.setState({\n        toSelect: e.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Search Buses\",\n      onClick: this.handleRegister,\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })))));\n  }\n}\nexport default Welcome;","map":{"version":3,"names":["React","Component","Calendar","AutoComplete","VoiceResolver","Welcome","constructor","props","filterFromPlace","event","results","state","Stops","filter","place","toLowerCase","startsWith","query","setState","filteredFrom","filterToPlace","r","fromSelect","filteredTo","handleRegister","preventDefault","fetch","method","headers","body","JSON","stringify","toSelect","then","res","json","data","error","setPlaces","response","forEach","routeId","SetRouteId","onRouteChange","alert","catch","err","console","log","onwarddate","componentDidMount","parse","render","createElement","className","__source","fileName","_jsxFileName","lineNumber","__self","htmlFor","dateFormat","value","onChange","e","showIcon","suggestions","completeMethod","placeholder","type","onClick"],"sources":["C:/Users/golla/OneDrive/Desktop/bhan/Voice-based-Transport-Enquiry-System/voiceenquirysystem/src/Components/Welcome/Welcome.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport './Welcome.css';\r\nimport { Calendar } from 'primereact/calendar';\r\nimport { AutoComplete } from 'primereact/autocomplete';\r\nimport VoiceResolver from '../VoiceResolver/App';\r\n\r\nclass Welcome extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            onwarddate: '',\r\n            fromSelect: '',\r\n            toSelect: '',\r\n            Stops: [],\r\n            filteredFrom: [],\r\n            filteredTo: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('http://localhost:3001/BusStops')\r\n            .then(res => res.json())\r\n            .then(data => { this.setState({ Stops: JSON.parse(data) }); })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    filterFromPlace = (event) => {\r\n        const results = this.state.Stops.filter(place =>\r\n            place.toLowerCase().startsWith(event.query.toLowerCase()));\r\n        this.setState({ filteredFrom: results });\r\n    }\r\n\r\n    filterToPlace = (event) => {\r\n        const results = this.state.Stops.filter(place =>\r\n            place.toLowerCase().startsWith(event.query.toLowerCase()))\r\n            .filter(r => r.toLowerCase() !== this.state.fromSelect.toLowerCase());\r\n        this.setState({ filteredTo: results });\r\n    }\r\n\r\n    handleRegister = (event) => {\r\n        event.preventDefault();\r\n        fetch('http://localhost:3001/CheckRoute', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                fromSelect: this.state.fromSelect,\r\n                toSelect: this.state.toSelect\r\n            })\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.error === '') {\r\n                    this.props.setPlaces(this.state.fromSelect, this.state.toSelect);\r\n                    data.response.forEach(routeId => this.props.SetRouteId(routeId, 1));\r\n                    this.props.onRouteChange('search');\r\n                } else {\r\n                    alert(\"No such route exists\");\r\n                }\r\n            })\r\n            .catch(err => console.log('Fetch error:', err));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='formwarp pa2 shadow-2 center'>\r\n                <VoiceResolver />\r\n                <form>\r\n                    <div className='wraap pa2 center'>\r\n                        <div className=\"form-group col-md-10\">\r\n                            <label htmlFor=\"onwarddate\">Pick a Date: </label>\r\n                            <Calendar\r\n                                dateFormat=\"dd/mm/yy\"\r\n                                value={this.state.onwarddate}\r\n                                onChange={(e) => this.setState({ onwarddate: e.value })}\r\n                                showIcon\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group col-md-10\">\r\n                            <label htmlFor=\"from\">Source Place:</label>\r\n                            <AutoComplete\r\n                                value={this.state.fromSelect}\r\n                                suggestions={this.state.filteredFrom}\r\n                                completeMethod={this.filterFromPlace}\r\n                                placeholder=\"From Place\"\r\n                                onChange={(e) => this.setState({ fromSelect: e.value })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group col-md-10\">\r\n                            <label htmlFor=\"to\">Destination</label>\r\n                            <AutoComplete\r\n                                value={this.state.toSelect}\r\n                                suggestions={this.state.filteredTo}\r\n                                completeMethod={this.filterToPlace}\r\n                                placeholder=\"To Place\"\r\n                                onChange={(e) => this.setState({ toSelect: e.value })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group col-md-10\">\r\n                            <input type='submit' value='Search Buses' onClick={this.handleRegister} className=\"btn btn-primary\" />\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Welcome;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}